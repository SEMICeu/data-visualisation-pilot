<html>
  <head>
    <title>Gapminder visualisation</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['motionchart']});
      google.charts.setOnLoadCallback(drawCharts);
      function drawCharts() {

      var dataURL = 'https://docs.google.com/spreadsheets/d/1Ex4EEEDeT8lfRWSi5nCwYnZBNskl9bMO-nmDX3mMszk/gviz/tq?gid=0&headers=1&tq=select%20E%2C%20C%2C%20F%2C%20G%2C%20L%2C%20M%2C%20N';

	    var query = new google.visualization.Query(dataURL);
	    query.send(handleQueryResponse);

    }

	  function handleQueryResponse(response) {
			if (response.isError()) {
				alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
				return;
			}

			var data = response.getDataTable();

      var chart = new google.visualization.MotionChart(document.getElementById('chart_div'));

      chart.draw(data, {width: 900, height:450});
    }
    </script>
  </head>
  <body>
    <div style="padding: auto; width: 100%;">
      <h1 style="font-family:arial; margin:auto; width:900px;">Gapminder visualisation of Cordis data (FP6, FP7, H2020)</h1>
        <p style="width:900px; margin:auto; padding-top:15px; text-align: justify; font-family:arial;">This chart visualises Cordis data as published by the Publications office on the European Union Open Data Portal.
      <br>
        The datasets contain all projects funded by the European Union under the sixth, seventh and Horizon 2020 framework programme for research and technological development. These framework programmes ran from 2002 to 2006, 2007 to 2013, and 2014 to 2020 respectively.
      <br><br></p>
      <div id="chart_div" style="width: 900px; height: 450px; margin:auto;"></div>
    </div>
  </body>
</html>
