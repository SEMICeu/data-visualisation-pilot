<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Language" content="en">
		<meta name="description" content="Map of Europe displaying the distribution of registrants.">
		<meta name="classification" content="04000">
		<meta name="keywords" content="Information, Visual, European Commission, European Union, EU">
		<link rel="stylesheet" href="../../main.css"/>

		<!-- social media share -->
		<script type="text/javascript" src='js/jquery-1.11.0.min.js' ></script>
		<script type="text/javascript" src="js/jssocials.min.js"></script>
		<link   type="text/css" rel="stylesheet" href="js/jssocials.css" />
		<link   type="text/css" rel="stylesheet" href="js/jssocials-theme-flat.css" />
		<script type="text/javascript" src="js/bfab9f1eb9.js"></script>
		<script type="text/javascript" src="../datasets/languages.js"></script>
		<title>TED - Tender Electronic Daily</title>
	</head>

	<body>
		<div class="page">
			<div class="ted-header">
				<a href="/TED/" class="op-logo" style="float:left;">
					<img src="./images/ted-logo-left.png" title="TED − Tenders Electronic Daily" alt="Go to the TED homepage">
				</a>
				<a href="/TED/" class="op-logo logo-right">
					<img src="./images/ted-logo-right.png" title="TED − Tenders Electronic Daily" alt="Go to the TED homepage">
				</a>
			</div>

			<div class="menu-header">
			</div>

			<div class="explanation">
				<div id="description">
					The visualisation on this page allows to visualise the number of tenders for each NUTS of the displayed level. Use the filter button
					on the left to display the filters. You can decide to filter on main activities or legal basis,
					or to change the NUTS level to be displayed.
					<br><br>
					Note that, given the zoom and position of the map, some territories are not visible on the map (e.g., French Guyanna). To see
					information about these territories, move and/or reduce the zoom level, dragging the map with your mouse or using the
					zooming buttons on the top left corner.
				</div>
				<div id="share" class="sharing-div"></div>
			</div>

			<div class="content">
				<iframe style="width:100%; height:600px" scrolling="no" src="./ted_map.html"></iframe>
				<div style="text-align:left">
					<b>Embed Code:</b>
					<input id="embededCodeField" type="text" style="width:100%;"></input>
				</div>
			</div>

			<div class="footer">
				This visualisation has been developed by  <a href="http://www.pwc.be/" target="_blank">PwC EU services</a> for the <a href="http://publications.europa.eu/en/home" target="_blank">Publications Office of the EU</a>
				using <a href="http://leafletjs.com/" target="_blank">the leafletjs library</a>
				and is based on datasets provided on the <a href="http://ted.europa.eu/TED/browse/browseByBO.do" target="_blank">TED</a>.
				<br><br>
				The source code of this visualisation can be found on the following <a href="https://github.com/SEMICeu/data-visualisation-pilot" target="_blank">Github repository</a>.
				<p id="UpdateDate"></p>
			</div>
		</div>
		
		<script>
			$("#share").jsSocials({
				showLabel: false,
				shares: ["email", "twitter", "facebook", "googleplus", "linkedin", "pinterest"]
			});

			var userLang = navigator.language || navigator.userLanguage;
			if(!texts[userLang]){
				userLang = 'en-US';
			}
			$('#description').html(texts[userLang].mainDescription);
		</script>
		<script>
			var Path = window.location.href;
			Path = Path.slice(0, Path.lastIndexOf("/")) + "/ted_map.html";
			val = "<iframe style=\"width:990px; height:620px\"  scrolling=\"no\" src=\""+Path+"\"></iframe>";
			document.getElementById("embededCodeField").value = val;
			
			function readTextFile(file)
			{
				var rawFile = new XMLHttpRequest();
				rawFile.open("GET", file, true);
				rawFile.onreadystatechange = function ()
				{
					if(rawFile.readyState === 4)
					{
						if(rawFile.status === 200 || rawFile.status == 0)
						{
							var allText = rawFile.responseText;
							document.getElementById("UpdateDate").innerHTML = "This visualisation has been updated the: " + allText;
						}
					}
				}
				rawFile.send(null);
			}
			readTextFile("../Datasets/UpdateDate.txt");
		</script>
	</body>
</html>
